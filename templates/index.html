{% import "post_macros.html" as post_macros %}

<!DOCTYPE html>
{% if page %}<html lang="en">{% else %}<html lang="en" class="h-feed">{% endif %}
    <head>
        <meta charset="UTF-8" />
        {% if page %}<title>{% else %}<title class="p-name">{% endif %}{% if page.title %}{{ config.title }} - {{ page.title }}{% else %}{{ config.title }}{% endif %}</title>
        {% if page %}<script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "author": {
              "@type": "Person",
              "name": "{{ page.extra.author }}"
          },
          "license": "{{ page.extra.license.url | safe }}",
          "headline": "{{ page.title }}",
          "backstory": "{{ page.summary | safe | striptags }}",
          "datePublished": "{{ page.date | date(format="%Y-%m-%d") }}"
        }
        </script>{% endif %}

        <link rel="shortcut icon" href="/logo-red.svg" type="image/svg+xml" />
        <meta name="google-site-verification" content="45TezZMsSoY5qA7wC4E98BjjNJ_wUyJehNrI0G5Zh7U" />

        <!-- Enable responsiveness on mobile devices-->
        <!-- viewport-fit=cover is to support iPhone X rounded corners and notch in landscape-->
        <meta name="viewport" content="width=device-width, viewport-fit=cover" />

        <!-- Standard meta tags -->
        {% if page.extra.author %}<meta name="author" content="{{ page.extra.author }}" />{% else %}<meta name="author" content="Lionirdeadman" />{% endif %}
        {% if page.summary %}<meta name="description" content="{{ page.summary | safe | striptags }}" />{% else %}<meta name="description" content="Hi! I'm Lionir Deadman but just can just call me Lion for short. This is my website!" />{% endif %}

        <!-- Open Graph Tags -->
        <meta property="og:site_name" content="{{ config.title }}" />
        {% if page %}
        <meta property="og:title" content="{{ page.title }}" />
        <meta property="og:url" content="{{ get_url(path=page.path, trailing_slash=false) }}" />
        <meta property="og:description" content="{{ page.summary | markdown(inline=true)  | safe | striptags }}" />
        <meta property="og:type" content="article">
        <meta property="article:published_time" content="{{ page.date | date(format="%Y-%m-%d") }}" />
        {% if page.updated %}<meta property="article:modified_time" content="{{ page.updated | date(format="%Y-%m-%d") }}" />{% endif %}
        {% if page.extra.author_url %}<meta property="article:author" content="{{ page.extra.author_url }}" />{% endif %}
        {% else %}
        <meta property="og:type" content="website" />
        <meta property="og:url" content="{{ get_url(path="", trailing_slash=false) }}" />
        <meta property="og:description" content="Hi! I'm Lionir Deadman but just can just call me Lion for short. This is my website!" />
        {% endif %}

        <!-- CSS -->
        <link rel="stylesheet" href="{{ get_url(path="main.css", trailing_slash=false) }}" />

        <!-- Feeds -->
        {% if config.generate_feed %}<link rel="alternate self" type={% if config.feed_filename == "atom.xml" %}"application/atom+xml"{% else %}"application/rss+xml"{% endif %} title="Blog posts" href="{{ get_url(path=config.feed_filename) | safe }}" />
        {% endif %}
    </head>
    

  {% if page %}<body class="single">{% else %}<body class="list">{% endif %}
    {% block body %}
    <header class="header">

        <!-- Navigation bar -->
        <nav class="nav">
            <p class="u-url u-uid logo"><a href="{{ get_url(path="", trailing_slash=false ) }}">{{ config.title }}</a></p>
            <ul class="menu">
                {% block sidebar_nav %}{% for link in config.extra.links %}<li><a href="{{ link.url }}">{{ link.name }}</a></li>{% endfor %}{% endblock sidebar_nav %}
            </ul>
        </nav>

        <!-- Profile picture -->
        <figure class="profile-wrapper">
            <picture class="profile-wrapper">
              <!--<source class="u-photo" srcset="{{ get_url(path="/cool_profile.avif", trailing_slash=false ) }}" loading="lazy" type="image/avif" />-->
              <source class="u-photo" srcset="{{ get_url(path="/cool_profile.webp", trailing_slash=false ) }}" loading="lazy" type="image/webp" />
              <img class="u-photo" src="{{ get_url(path="/cool_profile.jpg", trailing_slash=false ) }}" loading="lazy" type="image/jpg" alt="Drawing of me made by my friend Kuroma" />
            </picture>
            <figcaption class="picture-license"><a href="https://www.deviantart.com/kuroma-dyne/" rel="noopener" target="_blank">©Kuroma</a></figcaption>
        </figure>
        <script src="/jpeg-mask.js"></script>

    </header>

    <main class="main">
        {% block content %}
        <div class="posts">
            {% for page in paginator.pages %}
            {% if loop.index == 1 and paginator.current_index == 1 %}
            <article class="h-entry first-entry">{% else %}
            <article class="h-entry post-entry">{% endif %}
            {{ post_macros::page_in_list(page=page)}}
            </article>{% endfor %}

            <footer class="page-footer">
                <nav class="pagination">
                    {% if paginator.previous %}<a class="prev" rel="prev" href="{{ paginator.previous }}">< Previous</a>{% else %}<!--Hidden Previous-Button-->{% endif %}
                    {% if paginator.next %}<a class="next" rel="next" href="{{ paginator.next }}">Next ></a>{% else %}<!--Hidden Next-Button-->{% endif %}
                </nav>
            </footer>
        </div>
        {% endblock content %}
    </main>

    <!-- Plausible & GoatCounter Analytics -->
    <script async defer data-domain="thelion.website" src="https://stats.thelion.website/js/plausible.js"></script>
    <script async defer data-domain="thelion.website" src="https://stats.thelion.website/js/index.outbound-links.js"></script>
    <script data-goatcounter="https://thelion.goatcounter.com/count" async src="//gc.zgo.at/count.v2.js" crossorigin="anonymous" integrity="sha384-PeYXrhTyEaBBz91ANMgpSbfN1kjioQNPHNDbMvevUVLJoWrVEjDCpKb71TehNAlj"></script>
    <noscript><img src="https://thelion.goatcounter.com/count?p=/test-noscript"></noscript>

    <footer class="footer">
      <p>
        <span>&#127279; <a href="https://github.com/lionirdeadman/lionirdeadman.github.io">Website code under MIT</a>!</span>
        <span>&middot;</span>
        <span>Content mostly under <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></span>
        <br />
        <span>Powered by <a href="https://www.getzola.org" rel="noopener" target="_blank">Zola</a>️</span>
        <span>&middot;</span>
        <span>Theme️ forked from <a href="https://github.com/schoenenberg/zola-paper" rel="noopener" target="_blank">Zola-Paper</a></span>
        <span>&middot;</span>
        <span>Hosted on <a href="https://pages.github.com/" rel="noopener" target="_blank">GitHub Pages</a></span>
        <span>&middot;</span>
        <span>Analytics by <a href="https://plausible.io/" rel="noopener" target="_blank">Plausible</a></span>
      </p>
    </footer>
    {% endblock body %}
    </body>
</html>
